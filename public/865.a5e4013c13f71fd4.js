"use strict";(self.webpackChunkadminpro=self.webpackChunkadminpro||[]).push([[865],{1865:(wt,w,l)=>{l.r(w),l.d(w,{ManagementModule:()=>Ut});var f=l(9380),N=l(1915),g=l(4996),_=(()=>{return(i=_||(_={})).UserRole="USER_ROLE",i.AdminRole="ADMIN_ROLE",_;var i})(),t=l(1223);let G=(()=>{class i{constructor(e){this.router=e}canActivate(e,o){const n=JSON.parse(localStorage.getItem("user"))||null;return!(!n||n.role!==_.AdminRole)||(this.router.navigate(["/dashboard"]),!1)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(g.F0))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var a=l(3075),D=l(9646),M=l(4128),Y=l(8505),d=l(3370),F=l(5226),c=l.n(F),v=l(4004),I=l(2340),k=l(520);let E=(()=>{class i{constructor(e){this.http=e,this.url=`${I.N.baseUrl}/doctors`}createDoctor(e,o){return this.http.post(this.url,o,{headers:{token:e}})}updateDoctor(e,o,n){return this.http.put(`${this.url}/${o}`,n,{headers:{token:e}}).pipe((0,v.U)(s=>s.doctorUpdated))}getDoctors(e){return this.http.get(this.url,{headers:{token:e}})}getDoctor(e,o){return this.http.get(`${this.url}/${o}`,{headers:{token:e}}).pipe((0,v.U)(n=>n.doctor))}removeDoctor(e,o){return this.http.delete(`${this.url}/${o}`,{headers:{token:e}})}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(k.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),T=(()=>{class i{constructor(e){this.http=e,this.url=`${I.N.baseUrl}/hospitals`}createHospital(e,o){return this.http.post(this.url,o,{headers:{token:e}})}updateHospital(e,o,n){return this.http.put(`${this.url}/${o}`,n,{headers:{token:e}}).pipe((0,v.U)(s=>s.hospitalUpdated))}getHospitals(e){return this.http.get(this.url,{headers:{token:e}})}removeHospital(e,o){return this.http.delete(`${this.url}/${o}`,{headers:{token:e}})}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(k.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var S=l(5095),Z=l(8270),u=l(9808),C=l(6111);const L=["inputFile"];function Q(i,r){1&i&&(t.TgZ(0,"h5",26),t._uU(1,"Default image"),t.qZA())}function R(i,r){1&i&&(t.TgZ(0,"span",27),t._uU(1," The field hospital is mandatory "),t.qZA())}function P(i,r){if(1&i&&(t.TgZ(0,"option",28),t._uU(1),t.qZA()),2&i){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function O(i,r){1&i&&(t.TgZ(0,"span",27),t._uU(1," The field hospital is mandatory "),t.qZA())}function B(i,r){if(1&i&&(t._UZ(0,"img",29),t.ALo(1,"imageUrl")),2&i){const e=t.oxw();t.Q6J("src",t.xi3(1,1,e.doctorToEdit&&e.doctorToEdit.hospital&&e.doctorToEdit.hospital.img?e.doctorToEdit.hospital.img:"",e.entityNameEnum.Hospitals),t.LSH)}}function j(i,r){if(1&i&&(t._UZ(0,"img",29),t.ALo(1,"imageUrl")),2&i){const e=t.oxw();t.Q6J("src",t.xi3(1,1,e.hospitalImgUrl,e.entityNameEnum.Hospitals),t.LSH)}}let H=(()=>{class i{constructor(e,o,n,s,m,h,xt){this.builder=e,this.doctorService=o,this.hospitalService=n,this.filesService=s,this.utilsService=m,this.activatedRoute=h,this.router=xt,this.entityNameEnum=d.q,this.thereAreChanges=!1}ngOnInit(){this.firstLoad=!0,this.token=localStorage.getItem("token")||"",this.getHospitals(),this.doctorUid=this.activatedRoute.snapshot.params.uid,this.operation=this.doctorUid?"Update":"New",this.formGroup=this.builder.group({name:["",[a.kI.required,this.utilsService.nameValidator()]],hospital:["",a.kI.required]}),this.doctorUid&&this.doctorService.getDoctor(this.token,this.doctorUid).subscribe(e=>{if(this.doctorToEdit=e,this.doctorToEdit){this.formGroup.get("name").setValue(this.doctorToEdit.name),this.defaultImgUrl=this.doctorToEdit.img;const o=this.doctorToEdit.hospital.id?this.doctorToEdit.hospital.id:this.doctorToEdit.hospital._id,n=this.hospitals.length?this.hospitals.find(s=>s.id===o):null;n&&this.formGroup.get("hospital").setValue(n.id)}}),this.formGroup.get("hospital").valueChanges.subscribe(e=>{this.firstLoad&&(this.firstLoad=!1);const o=this.hospitals.find(n=>n.id===e);this.hospitalImgUrl=o.img?o.img:"no-image"}),this.formGroup.valueChanges.subscribe(e=>{if(this.doctorUid&&this.doctorToEdit){const o=this.doctorToEdit.hospital._id||this.doctorToEdit.hospital.id;this.thereAreChanges=this.doctorToEdit.name!==this.formGroup.get("name").value.trim()||o!==this.formGroup.get("hospital").value}})}loadImage(e){const o=e.srcElement.files;if(this.errorMsg="",o&&o.length){const n=o[0],s=["png","jpeg","jpg","gif"],m=n.name.substring(n.name.lastIndexOf(".")+1);if(s.includes(m)){const h=new FileReader;h.readAsDataURL(n),h.onload=()=>{this.imgLoaded={file:n,path:h.result,name:n.name}}}else this.errorMsg="Invalid image!! Extensions admits: png, jpeg, jpg, gif"}else this.errorMsg="You must select a image"}onSubmit(){this.formGroup.valid&&(this.doctorUid?this.updateDoctor():this.createDoctor())}onCancel(){this.router.navigate(["/management/doctors"])}getHospitals(){this.hospitalService.getHospitals(this.token).subscribe(e=>{this.hospitals=e.hospitals})}updateDoctor(){const{requestDoctor:e,requestImage:o}=this.createRequests(),n=[this.thereAreChanges?this.doctorService.updateDoctor(this.token,this.doctorUid,e):(0,D.of)(null),this.imgLoaded?this.filesService.uploadImage(this.token,o):(0,D.of)(null)];(0,M.D)(n).subscribe({next:s=>{c().fire({title:"Update doctor",text:"The doctor has been update successfully",icon:"success",showConfirmButton:!1,timer:1500}),setTimeout(()=>this.router.navigate(["/management/doctors"]),0)},error:s=>c().fire({title:"Update doctor",text:s.error.msg,icon:"error",showConfirmButton:!0})})}createDoctor(){const e={name:this.formGroup.get("name").value.trim(),hospital:this.formGroup.get("hospital").value};this.doctorService.createDoctor(this.token,e).pipe((0,Y.b)(o=>{let n=null;this.imgLoaded&&(n={entity:d.q.Doctors,id:o.newDoctor.uid,img:this.imgLoaded.file},this.filesService.uploadImage(this.token,n).subscribe())})).subscribe({next:o=>{c().fire({title:"Create doctor",text:"The doctor has been create successfully",icon:"success",showConfirmButton:!1,timer:1500}),setTimeout(()=>this.router.navigate(["/dashboard/doctors"]),0)},error:o=>c().fire({title:"Create doctor",text:o.error.msg,icon:"error",showConfirmButton:!0})})}createRequests(){const e={name:this.formGroup.get("name").value.trim(),hospital:this.formGroup.get("hospital").value};let o=null;return this.imgLoaded&&(o={entity:d.q.Doctors,id:this.doctorUid,img:this.imgLoaded.file}),{requestDoctor:e,requestImage:o}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(a.qu),t.Y36(E),t.Y36(T),t.Y36(S.n),t.Y36(Z.F),t.Y36(g.gz),t.Y36(g.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],viewQuery:function(e,o){if(1&e&&t.Gf(L,5),2&e){let n;t.iGM(n=t.CRH())&&(o.inpuFileElement=n.first)}},decls:45,vars:17,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-md-6"],[1,"card","h-100"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"w-100","d-flex","flex-column","justify-content-center","align-items-center"],["class","font-italic",4,"ngIf"],[1,"upload-wrapper"],[1,"img-fluid","mb-2","cursor-pointer",2,"width","300px",3,"src"],["type","file","id","file",3,"change"],["inputFile",""],["novalidate","",1,"form-horizontal","p-t-20",3,"formGroup"],[1,"form-group","row"],["for","name",1,"col-sm-3","control-label"],[1,"col-sm-9"],["type","text","formControlName","name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","hospital",1,"col-sm-3","control-label"],["formControlName","hospital",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","row","m-b-0"],[1,"offset-sm-3","col-sm-9"],["type","button",1,"btn","btn-success","waves-effect","waves-light","m-r-10",3,"disabled","click"],["type","button",1,"btn","btn-inverse","waves-effect","waves-light",3,"click"],["class","img-fluid mb-2","style","width: 300px",3,"src",4,"ngIf"],[1,"font-italic"],[1,"text-danger"],[3,"value"],[1,"img-fluid","mb-2",2,"width","300px",3,"src"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h4",4),t._uU(5,"Doctor"),t.qZA(),t.TgZ(6,"h6",5),t._uU(7),t.qZA(),t.TgZ(8,"div",6),t.YNc(9,Q,2,0,"h5",7),t.TgZ(10,"div",8),t._UZ(11,"img",9),t.ALo(12,"imageUrl"),t.TgZ(13,"input",10,11),t.NdJ("change",function(s){return o.loadImage(s)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"form",12),t.TgZ(16,"div",13),t.TgZ(17,"label",14),t._uU(18,"Name*"),t.qZA(),t.TgZ(19,"div",15),t._UZ(20,"input",16),t.YNc(21,R,2,0,"span",17),t.qZA(),t.qZA(),t.TgZ(22,"div",13),t.TgZ(23,"label",18),t._uU(24,"Hospital*"),t.qZA(),t.TgZ(25,"div",15),t.TgZ(26,"select",19),t.YNc(27,P,2,2,"option",20),t.qZA(),t.YNc(28,O,2,0,"span",17),t.qZA(),t.qZA(),t.TgZ(29,"div",21),t.TgZ(30,"div",22),t.TgZ(31,"button",23),t.NdJ("click",function(){return o.onSubmit()}),t._uU(32,"Submit "),t.qZA(),t.TgZ(33,"button",24),t.NdJ("click",function(){return o.onCancel()}),t._uU(34,"Cancel "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",1),t.TgZ(36,"div",2),t.TgZ(37,"div",3),t.TgZ(38,"h4",4),t._uU(39,"Hospital associated"),t.qZA(),t.TgZ(40,"h6",5),t._uU(41,"Hospital image to the doctor associated"),t.qZA(),t.TgZ(42,"div",6),t.YNc(43,B,2,4,"img",25),t.YNc(44,j,2,4,"img",25),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(7),t.hij("",o.operation," doctor info"),t.xp6(2),t.Q6J("ngIf",!o.imgLoaded),t.xp6(2),t.Q6J("src",o.imgLoaded?null==o.imgLoaded?null:o.imgLoaded.path:t.xi3(12,14,o.defaultImgUrl,o.entityNameEnum.Doctors),t.LSH),t.xp6(4),t.Q6J("formGroup",o.formGroup),t.xp6(1),t.ekj("has-danger",o.formGroup.get("name").touched&&o.formGroup.get("name").errors),t.xp6(5),t.Q6J("ngIf",o.formGroup.get("name").touched&&o.formGroup.get("name").hasError("required")),t.xp6(1),t.ekj("has-danger",o.formGroup.get("hospital").touched&&o.formGroup.get("hospital").errors),t.xp6(5),t.Q6J("ngForOf",o.hospitals),t.xp6(1),t.Q6J("ngIf",o.formGroup.get("hospital").touched&&o.formGroup.get("hospital").hasError("required")),t.xp6(3),t.Q6J("disabled",!o.doctorToEdit&&o.formGroup.invalid||o.doctorToEdit&&(o.formGroup.touched&&o.formGroup.invalid||!o.thereAreChanges&&!o.imgLoaded)),t.xp6(12),t.Q6J("ngIf",o.firstLoad),t.xp6(1),t.Q6J("ngIf",!o.firstLoad))},directives:[u.O5,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.EJ,u.sg,a.YN,a.Kr],pipes:[C.I],styles:[".upload-wrapper[_ngcontent-%COMP%]{display:block;width:300px;position:relative}#file[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:2;cursor:pointer;opacity:0}"]}),i})();var b=l(8746),p=l(5528),A=l(7192),q=l(8686);function $(i,r){if(1&i&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.content)}}const z=function(i,r,e){return[i,r,e]};let y=(()=>{class i{constructor(){this.alertType="alert-info",this.icon="fa fa-refresh",this.iconSize="fa-2x",this.iconEffect="fa-spin",this.header="Header"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-alert-loader"]],inputs:{alertType:"alertType",icon:"icon",iconSize:"iconSize",iconEffect:"iconEffect",header:"header",content:"content"},decls:5,vars:9,consts:[["role","alert",1,"text-center"],[1,"alert-heading"],[3,"ngClass"],[4,"ngIf"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h4",1),t._uU(2),t.qZA(),t._UZ(3,"i",2),t.YNc(4,$,2,1,"p",3),t.qZA()),2&e&&(t.Tol("alert "+o.alertType),t.xp6(2),t.Oqu(o.header),t.xp6(1),t.Q6J("ngClass",t.kEZ(5,z,o.icon,o.iconSize,o.iconEffect)),t.xp6(1),t.Q6J("ngIf",o.content))},directives:[u.mk,u.O5],encapsulation:2}),i})();var U=l(5168),x=l(3387);const W=["imgTemplate"],X=["newDoctorTemplate"];function K(i,r){1&i&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t._UZ(2,"app-alert-loader",10),t.qZA(),t.qZA()),2&i&&(t.xp6(2),t.Q6J("header","Loading")("content","Please wait"))}function V(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t.TgZ(3,"div",11),t.TgZ(4,"div",12),t.TgZ(5,"div"),t.TgZ(6,"h4",13),t._uU(7,"Doctors"),t.qZA(),t.TgZ(8,"h6",14),t._uU(9,"Doctors registered in the application."),t.qZA(),t.qZA(),t.TgZ(10,"div"),t.TgZ(11,"button",15),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCreateDoctor()}),t._UZ(12,"i",16),t._uU(13,"New"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"app-table-search",17),t.NdJ("removeClick",function(n){return t.CHM(e),t.oxw().onRemoveDoctor(n)})("editClick",function(n){return t.CHM(e),t.oxw().onEditDoctor(n)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(14),t.Q6J("columns",e.tableColumns)("enableClientPagination",e.enableClientPagination)("pagination",e.pagination)("showActions",!0)("rows",e.tableRows)}}function tt(i,r){1&i&&(t.TgZ(0,"div",18),t.TgZ(1,"div",19),t._UZ(2,"app-custom-error",20),t.qZA(),t.qZA()),2&i&&(t.xp6(2),t.Q6J("title","Error in search")("content","An error ocurred when get doctors. Please, contact with the administrator."))}function et(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",21),t.TgZ(1,"img",22),t.NdJ("click",function(){const s=t.CHM(e).uid;return t.oxw().onEditImage(s)}),t.ALo(2,"imageUrl"),t.qZA(),t.qZA()}if(2&i){const e=r.img,o=t.oxw();t.xp6(1),t.Q6J("src",t.xi3(2,1,e,o.entityNameEnum.Doctors),t.LSH)}}let ot=(()=>{class i{constructor(e,o,n,s){this.doctorService=e,this.searchesService=o,this.modalImageService=n,this.router=s,this._defaultPagination={offset:0,limit:5},this.entityNameEnum=d.q,this.enableClientPagination=!0}get defaultPagination(){return this._defaultPagination}ngOnInit(){this.token=localStorage.getItem("token")||"",this.getTable(),this.modalImageService.updateImageSuccess.subscribe(e=>{this.loadData()}),this.loadData()}onRemoveDoctor(e){c().fire({title:"Delete doctor",text:`Are you sure you want to delete the doctor '${e.name}'?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Yes, delete"}).then(o=>{o.isConfirmed&&this.doctorService.removeDoctor(this.token,e.uid).subscribe({next:n=>{this.loadData(),c().fire({title:"Deleted doctor",text:"The doctor has been deleted successfully.",icon:"success",showConfirmButton:!1,timer:1500})},error:n=>c().fire({title:"Delete hospital",text:n.error.msg,icon:"error",showConfirmButton:!0})})})}onEditDoctor(e){this.router.navigate(["/management/doctors",e.uid])}onEditImage(e){const o=this.tableRows.find(n=>n.uid===e);o&&this.modalImageService.openModal(d.q.Doctors,e,this.token,o.img)}onCreateDoctor(){this.router.navigate(["/management/doctors/new"])}searchData(){if(this.nameCriteria){const e={entity:d.q.Doctors,name:this.nameCriteria};this.enableClientPagination=!1,this.searchesService.getDataByEntityAndName(this.token,e).subscribe(o=>{this.updateData(o.doctors)})}else this.cleanCriteria()}cleanCriteria(){this.nameCriteria="",this.enableClientPagination=!0,this.tableRows=this.originaltableRows}getTable(){this.tableColumns=[{id:"imgTemplate",label:"Avatar",type:p._.Html,fixed:!0,columnWidth:200},{id:"name",label:"Name",type:p._.Data,fixed:!1},{id:"hospitalName",label:"Hospital",type:p._.Data,fixed:!1}],this.pagination={limit:this.defaultPagination.limit,offset:this.defaultPagination.offset,totalItems:0}}loadData(){this.errorInSearch=!1,this.showLoader=!0,this.doctorService.getDoctors(this.token).pipe((0,b.x)(()=>this.showLoader=!1)).subscribe({next:e=>{this.updateData(e.doctors),this.originaltableRows=Array.from(this.tableRows)},error:e=>this.errorInSearch=!0})}updateData(e){e.forEach(o=>{o.hospitalName=o.hospital?o.hospital.name:"-",o.imgTemplate=this.imgTemplate}),this.tableRows=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(E),t.Y36(A.v),t.Y36(q.e),t.Y36(g.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-doctors"]],viewQuery:function(e,o){if(1&e&&(t.Gf(W,7),t.Gf(X,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.imgTemplate=n.first),t.iGM(n=t.CRH())&&(o.newDoctorTemplate=n.first)}},decls:13,vars:4,consts:[[1,"doctors-management","animated","fadeIn","fast"],[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body","d-flex"],["type","text","placeholder","Search doctor...",1,"form-control","mr-3",3,"ngModel","ngModelChange","keyup.enter"],["type","button",1,"btn","btn-secondary",3,"click"],["class","row animated fadeIn fast",4,"ngIf"],["class","row",4,"ngIf"],["imgTemplate",""],[3,"header","content"],[1,"card-body"],[1,"d-flex","justify-content-between"],[1,"card-title"],[1,"card-subtitle"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-user-md","mr-2"],[3,"columns","enableClientPagination","pagination","showActions","rows","removeClick","editClick"],[1,"row"],[1,"col-md-12"],[3,"title","content"],[1,"img-doctor","d-flex","justify-content-center"],[1,"avatar","cursor-pointer",3,"src","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"input",5),t.NdJ("ngModelChange",function(s){return o.nameCriteria=s})("ngModelChange",function(){return o.searchData()})("keyup.enter",function(){return o.searchData()}),t.qZA(),t.TgZ(6,"button",6),t.NdJ("click",function(){return o.cleanCriteria()}),t._uU(7,"Clean "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(8,K,3,2,"div",7),t.YNc(9,V,15,5,"div",7),t.YNc(10,tt,3,2,"div",8),t.YNc(11,et,3,4,"ng-template",null,9,t.W1O),t.qZA()),2&e&&(t.xp6(5),t.Q6J("ngModel",o.nameCriteria),t.xp6(3),t.Q6J("ngIf",o.showLoader&&!o.errorInSearch),t.xp6(1),t.Q6J("ngIf",!o.showLoader&&!o.errorInSearch),t.xp6(1),t.Q6J("ngIf",o.errorInSearch))},directives:[a.Fj,a.JJ,a.On,u.O5,y,U.S,x.D],pipes:[C.I],encapsulation:2}),i})();function it(i,r){1&i&&(t.TgZ(0,"span",11),t._uU(1," The field name is mandatory "),t.qZA())}let nt=(()=>{class i{constructor(e,o,n,s){this.modal=e,this.builder=o,this.hospitalService=n,this.utilsService=s}ngOnInit(){this.formGroup=this.builder.group({name:[this.hospitalToEdit?this.hospitalToEdit.name:"",[a.kI.required,this.utilsService.nameValidator()]]})}onUpdateHospital(){if(this.formGroup.valid){const e={name:this.formGroup.get("name").value.trim()};this.hospitalService.updateHospital(this.token,this.hospitalToEdit.id,e).subscribe({next:o=>{c().fire({title:"Update user",text:"The user has been updated successfully.",icon:"success",showConfirmButton:!1,timer:1500}),this.modal.close("success")},error:o=>c().fire({title:"Update user",text:o.error.msg,icon:"error",showConfirmButton:!0})})}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.Kz),t.Y36(a.qu),t.Y36(T),t.Y36(Z.F))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-edit-hospital-modal"]],inputs:{hospitalToEdit:"hospitalToEdit",token:"token"},decls:16,vars:5,consts:[[1,"edit-user"],[1,"modal-header"],["novalidate","",3,"formGroup"],[1,"modal-body"],[1,"form-group"],["for","name"],["type","text","formControlName","name","autocomplete","off",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button","aria-label","Close",1,"btn","btn-secondary",3,"click"],[1,"text-danger"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h4"),t._uU(3,"Edit hospital name"),t.qZA(),t.qZA(),t.TgZ(4,"form",2),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"label",5),t._uU(8,"Name:"),t.qZA(),t._UZ(9,"input",6),t.YNc(10,it,2,0,"span",7),t.qZA(),t.qZA(),t.TgZ(11,"div",8),t.TgZ(12,"button",9),t.NdJ("click",function(){return o.onUpdateHospital()}),t._uU(13,"Update hospital"),t.qZA(),t.TgZ(14,"button",10),t.NdJ("click",function(){return o.modal.close("cancel")}),t._uU(15,"Cancel"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("formGroup",o.formGroup),t.xp6(2),t.ekj("has-danger",o.formGroup.get("name").touched&&o.formGroup.get("name").errors),t.xp6(4),t.Q6J("ngIf",o.formGroup.get("name").touched&&(o.formGroup.get("name").hasError("required")||o.formGroup.get("name").hasError("invalidName"))),t.xp6(2),t.Q6J("disabled",o.formGroup.invalid))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,u.O5],encapsulation:2}),i})();const rt=["imgTemplate"],at=["newHospitalTemplate"];function st(i,r){1&i&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t._UZ(2,"app-alert-loader",11),t.qZA(),t.qZA()),2&i&&(t.xp6(2),t.Q6J("header","Loading")("content","Please wait"))}function lt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t.TgZ(3,"div",12),t.TgZ(4,"div",13),t.TgZ(5,"div"),t.TgZ(6,"h4",14),t._uU(7,"Hospitals"),t.qZA(),t.TgZ(8,"h6",15),t._uU(9,"Hospitals registered in the application."),t.qZA(),t.qZA(),t.TgZ(10,"div"),t.TgZ(11,"button",16),t.NdJ("click",function(){return t.CHM(e),t.oxw().onCreateHospital()}),t._UZ(12,"i",17),t._uU(13,"New"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"app-table-search",18),t.NdJ("removeClick",function(n){return t.CHM(e),t.oxw().onRemoveHospital(n)})("editClick",function(n){return t.CHM(e),t.oxw().onEditHospital(n)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(14),t.Q6J("columns",e.tableColumns)("enableClientPagination",e.enableClientPagination)("pagination",e.pagination)("showActions",!0)("rows",e.tableRows)}}function ct(i,r){1&i&&(t.TgZ(0,"div",19),t.TgZ(1,"div",20),t._UZ(2,"app-custom-error",21),t.qZA(),t.qZA()),2&i&&(t.xp6(2),t.Q6J("title","Error in search")("content","An error ocurred when get hospitals. Please, contact with the administrator."))}function dt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",22),t.TgZ(1,"img",23),t.NdJ("click",function(){const s=t.CHM(e).id;return t.oxw().onEditImage(s)}),t.ALo(2,"imageUrl"),t.qZA(),t.qZA()}if(2&i){const e=r.img,o=t.oxw();t.xp6(1),t.Q6J("src",t.xi3(2,1,e,o.entityNameEnum.Hospitals),t.LSH)}}function pt(i,r){1&i&&(t.TgZ(0,"span",34),t._uU(1," The field name is mandatory "),t.qZA())}function mt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",24),t.TgZ(1,"h4"),t._uU(2,"New hospital"),t.qZA(),t.qZA(),t.TgZ(3,"form",25),t.TgZ(4,"div",26),t.TgZ(5,"div",27),t.TgZ(6,"label",28),t._uU(7,"Name:"),t.qZA(),t._UZ(8,"input",29),t.YNc(9,pt,2,0,"span",30),t.qZA(),t.qZA(),t.TgZ(10,"div",31),t.TgZ(11,"button",32),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return n.newHospital(n.formGroup)}),t._uU(12,"Create "),t.qZA(),t.TgZ(13,"button",33),t.NdJ("click",function(){return t.CHM(e).$implicit.close("cancel")}),t._uU(14,"Cancel"),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("formGroup",e.formGroup),t.xp6(2),t.ekj("has-danger",e.formGroup.get("name").touched&&e.formGroup.get("name").errors),t.xp6(4),t.Q6J("ngIf",e.formGroup.get("name").touched&&(e.formGroup.get("name").hasError("required")||e.formGroup.get("name").hasError("invalidName"))),t.xp6(2),t.Q6J("disabled",e.formGroup.invalid)}}let ut=(()=>{class i{constructor(e,o,n,s,m,h){this.hospitalService=e,this.searchesService=o,this.modalService=n,this.modalImageService=s,this.builder=m,this.utilsService=h,this._defaultPagination={offset:0,limit:5},this.entityNameEnum=d.q,this.enableClientPagination=!0}get defaultPagination(){return this._defaultPagination}ngOnInit(){this.token=localStorage.getItem("token")||"",this.getTable(),this.modalImageService.updateImageSuccess.subscribe(e=>{this.loadData()}),this.loadData()}onRemoveHospital(e){c().fire({title:"Delete hospital",text:`Are you sure you want to delete the hospital '${e.name}'?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Yes, delete"}).then(o=>{o.isConfirmed&&this.hospitalService.removeHospital(this.token,e.id).subscribe({next:n=>{this.loadData(),c().fire({title:"Deleted hospital",text:"The hospital has been deleted successfully.",icon:"success",showConfirmButton:!1,timer:1500})},error:n=>c().fire({title:"Delete hospital",text:n.error.msg,icon:"error",showConfirmButton:!0})})})}onEditHospital(e){const o=this.modalService.open(nt,{backdrop:"static",keyboard:!1});o.componentInstance.hospitalToEdit=e,o.componentInstance.token=this.token,o.result.then(n=>{"success"===n&&this.loadData()})}onEditImage(e){const o=this.tableRows.find(n=>n.id===e);o&&this.modalImageService.openModal(d.q.Hospitals,e,this.token,o.img)}onCreateHospital(){this.formGroup=this.builder.group({name:["",[a.kI.required,this.utilsService.nameValidator()]]}),this.modalNewHospital=this.modalService.open(this.newHospitalTemplate,{backdrop:"static",keyboard:!1})}newHospital(e){if(e.valid){const o={name:this.formGroup.get("name").value.trim()};this.hospitalService.createHospital(this.token,o).subscribe({next:n=>{this.modalNewHospital.close(),this.loadData(),c().fire({title:"Created hospital",text:"The hospital has been created successfully.",icon:"success",showConfirmButton:!1,timer:1500})},error:n=>c().fire({title:"Create hospital",text:n.error.msg,icon:"error",showConfirmButton:!0})})}}searchData(){if(this.nameCriteria){const e={entity:d.q.Hospitals,name:this.nameCriteria};this.enableClientPagination=!1,this.searchesService.getDataByEntityAndName(this.token,e).subscribe(o=>{this.updateData(o.hospitals)})}else this.cleanCriteria()}cleanCriteria(){this.nameCriteria="",this.enableClientPagination=!0,this.tableRows=this.originaltableRows}getTable(){this.tableColumns=[{id:"imgTemplate",label:"Avatar",type:p._.Html,fixed:!0,columnWidth:200},{id:"name",label:"Name",type:p._.Data,fixed:!1}],this.pagination={limit:this.defaultPagination.limit,offset:this.defaultPagination.offset,totalItems:0}}loadData(){this.errorInSearch=!1,this.showLoader=!0,this.hospitalService.getHospitals(this.token).pipe((0,b.x)(()=>this.showLoader=!1)).subscribe({next:e=>{this.updateData(e.hospitals),this.originaltableRows=Array.from(this.tableRows)},error:e=>this.errorInSearch=!0})}updateData(e){e.forEach(o=>{o.imgTemplate=this.imgTemplate}),this.tableRows=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(T),t.Y36(A.v),t.Y36(f.FF),t.Y36(q.e),t.Y36(a.qu),t.Y36(Z.F))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-hospitals"]],viewQuery:function(e,o){if(1&e&&(t.Gf(rt,7),t.Gf(at,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.imgTemplate=n.first),t.iGM(n=t.CRH())&&(o.newHospitalTemplate=n.first)}},decls:15,vars:4,consts:[[1,"hospitals-management","animated","fadeIn","fast"],[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body","d-flex"],["type","text","placeholder","Search hospital...",1,"form-control","mr-3",3,"ngModel","ngModelChange","keyup.enter"],["type","button",1,"btn","btn-secondary",3,"click"],["class","row animated fadeIn fast",4,"ngIf"],["class","row",4,"ngIf"],["imgTemplate",""],["newHospitalTemplate",""],[3,"header","content"],[1,"card-body"],[1,"d-flex","justify-content-between"],[1,"card-title"],[1,"card-subtitle"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-hospital-o","mr-2"],[3,"columns","enableClientPagination","pagination","showActions","rows","removeClick","editClick"],[1,"row"],[1,"col-md-12"],[3,"title","content"],[1,"img-hospital","d-flex","justify-content-center"],[1,"avatar","cursor-pointer",3,"src","click"],[1,"modal-header"],["novalidate","",3,"formGroup"],[1,"modal-body"],[1,"form-group"],["for","name"],["type","text","formControlName","name",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button","aria-label","Close",1,"btn","btn-secondary",3,"click"],[1,"text-danger"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"input",5),t.NdJ("ngModelChange",function(s){return o.nameCriteria=s})("ngModelChange",function(){return o.searchData()})("keyup.enter",function(){return o.searchData()}),t.qZA(),t.TgZ(6,"button",6),t.NdJ("click",function(){return o.cleanCriteria()}),t._uU(7,"Clean "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(8,st,3,2,"div",7),t.YNc(9,lt,15,5,"div",7),t.YNc(10,ct,3,2,"div",8),t.YNc(11,dt,3,4,"ng-template",null,9,t.W1O),t.YNc(13,mt,15,5,"ng-template",null,10,t.W1O),t.qZA()),2&e&&(t.xp6(5),t.Q6J("ngModel",o.nameCriteria),t.xp6(3),t.Q6J("ngIf",o.showLoader&&!o.errorInSearch),t.xp6(1),t.Q6J("ngIf",!o.showLoader&&!o.errorInSearch),t.xp6(1),t.Q6J("ngIf",o.errorInSearch))},directives:[a.Fj,a.JJ,a.On,u.O5,y,U.S,x.D,a._Y,a.JL,a.sg,a.u],pipes:[C.I],encapsulation:2}),i})();var J=l(3071);function ht(i,r){1&i&&(t.TgZ(0,"span",13),t._uU(1," The field role is mandatory "),t.qZA())}let gt=(()=>{class i{constructor(e,o,n){this.modal=e,this.builder=o,this.userService=n}ngOnInit(){this.formGroup=this.builder.group({role:[this.userToEdit?this.userToEdit.role:"",a.kI.required]})}onUpdateUser(){if(this.formGroup.valid){const e={name:this.userToEdit.email,email:this.userToEdit.email,role:this.formGroup.get("role").value};this.userService.updateUser(this.token,this.userToEdit.uid,e).subscribe({next:o=>{c().fire({title:"Update user",text:"The user has been updated successfully.",icon:"success",showConfirmButton:!1,timer:1500}),this.modal.close("success")},error:o=>c().fire({title:"Update user",text:o.error.msg,icon:"error",showConfirmButton:!0})})}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(f.Kz),t.Y36(a.qu),t.Y36(J.K))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-edit-user-modal"]],inputs:{userToEdit:"userToEdit",token:"token"},decls:20,vars:8,consts:[[1,"edit-user"],[1,"modal-header"],["novalidate","",3,"formGroup"],[1,"modal-body"],[1,"form-group","w-75"],["for","role"],["formControlName","role",1,"form-control"],[3,"value"],["selected","",3,"value"],["class","text-danger",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button","aria-label","Close",1,"btn","btn-secondary",3,"click"],[1,"text-danger"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"h4"),t._uU(3,"Edit role"),t.qZA(),t.qZA(),t.TgZ(4,"form",2),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"label",5),t._uU(8),t.qZA(),t.TgZ(9,"select",6),t.TgZ(10,"option",7),t._uU(11,"Admin role"),t.qZA(),t.TgZ(12,"option",8),t._uU(13,"User role"),t.qZA(),t.qZA(),t.YNc(14,ht,2,0,"span",9),t.qZA(),t.qZA(),t.TgZ(15,"div",10),t.TgZ(16,"button",11),t.NdJ("click",function(){return o.onUpdateUser()}),t._uU(17,"Update user"),t.qZA(),t.TgZ(18,"button",12),t.NdJ("click",function(){return o.modal.close("cancel")}),t._uU(19,"Cancel"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("formGroup",o.formGroup),t.xp6(2),t.ekj("has-danger",o.formGroup.get("role").touched&&o.formGroup.get("role").errors),t.xp6(2),t.hij("Select a role for the user ",o.userToEdit.email,":"),t.xp6(2),t.Q6J("value","ADMIN_ROLE"),t.xp6(2),t.Q6J("value","USER_ROLE"),t.xp6(2),t.Q6J("ngIf",o.formGroup.get("role").touched&&o.formGroup.get("role").hasError("required")),t.xp6(2),t.Q6J("disabled",o.formGroup.invalid))},directives:[a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,a.YN,a.Kr,u.O5],encapsulation:2}),i})();var ft=l(9446);const _t=["imgTemplate"],vt=["authTemplate"];function Tt(i,r){1&i&&(t.TgZ(0,"div",1),t.TgZ(1,"div",2),t._UZ(2,"app-alert-loader",11),t.qZA(),t.qZA()),2&i&&(t.xp6(2),t.Q6J("header","Loading")("content","Please wait"))}function Zt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t.TgZ(3,"div",12),t.TgZ(4,"h4",13),t._uU(5,"Users"),t.qZA(),t.TgZ(6,"h6",14),t._uU(7,"Users registered in the application."),t.qZA(),t.TgZ(8,"app-table-search",15),t.NdJ("pageChange",function(n){return t.CHM(e),t.oxw().onPageChange(n)})("removeClick",function(n){return t.CHM(e),t.oxw().onRemoveUser(n)})("editClick",function(n){return t.CHM(e),t.oxw().onEditUser(n)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=t.oxw();t.xp6(8),t.Q6J("columns",e.tableColumns)("rows",e.tableRows)("enablePagination",e.enablePagination)("pagination",e.pagination)("showActions",!0)}}function Ct(i,r){1&i&&(t.TgZ(0,"div",16),t.TgZ(1,"div",17),t._UZ(2,"app-custom-error",18),t.qZA(),t.qZA()),2&i&&(t.xp6(2),t.Q6J("title","Error in search")("content","An error ocurred when get users. Please, contact with the administrator."))}function bt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",19),t.TgZ(1,"img",20),t.NdJ("click",function(){const s=t.CHM(e).uid;return t.oxw().onEditImage(s)}),t.qZA(),t.qZA()}if(2&i){const e=r.imgUrl;t.xp6(1),t.Q6J("src",e,t.LSH)}}function At(i,r){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=r.google;t.Tol("label label-"+(e?"danger":"info")),t.xp6(1),t.Oqu(e?"Google":"Email")}}const qt=[{path:"users",component:(()=>{class i{constructor(e,o,n,s,m,h){this.userService=e,this.pagesService=o,this.filesService=n,this.searchesService=s,this.modalService=m,this.modalImageService=h,this._defaultPagination={offset:0,limit:5},this.enablePagination=!0}get defaultPagination(){return this._defaultPagination}ngOnInit(){this.getUser(),this.getTable(),this.pagesService.user$.subscribe(e=>{this.getUser()}),this.modalImageService.updateImageSuccess.subscribe(e=>{e.uid===this.user.uid&&(localStorage.setItem("user",JSON.stringify(e)),this.pagesService.setUser(e),this.getUser()),this.loadData()}),this.loadData()}onPageChange(e){this.pagination.offset=e,this.loadData()}onRemoveUser(e){e.uid!==this.user.uid&&c().fire({title:"Delete user",text:`Are you sure you want to delete the user '${e.email}'?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Yes, delete"}).then(o=>{o.isConfirmed&&this.userService.removeUser(this.token,e.uid).subscribe({next:n=>{this.loadData(),c().fire({title:"Deleted user",text:"The user has been deleted successfully.",icon:"success",showConfirmButton:!1,timer:1500})},error:n=>c().fire({title:"Delete user",text:n.error.msg,icon:"error",showConfirmButton:!1,timer:1500})})})}onEditUser(e){const o=this.modalService.open(gt,{backdrop:"static",keyboard:!1});o.componentInstance.userToEdit=e,o.componentInstance.token=this.token,o.result.then(n=>{"success"===n&&this.loadData()})}onEditImage(e){const o=this.tableRows.find(n=>n.uid===e);o&&(console.log("abrir modal image"),this.modalImageService.openModal(d.q.Users,e,this.token,o.imgUrl))}searchData(){if(this.nameCriteria){const e={entity:d.q.Users,name:this.nameCriteria};this.enablePagination=!1,this.searchesService.getDataByEntityAndName(this.token,e).subscribe(o=>{this.updateData(o.users)})}else this.cleanCriteria()}cleanCriteria(){this.nameCriteria="",this.enablePagination=!0,this.tableRows=this.originaltableRows}getTable(){this.tableColumns=[{id:"imgTemplate",label:"Avatar",type:p._.Html,fixed:!0,columnWidth:100},{id:"email",label:"Email",type:p._.Data,fixed:!1},{id:"name",label:"Name",type:p._.Data,fixed:!1},{id:"role",label:"Role",type:p._.Data,fixed:!0,columnWidth:100},{id:"authTemplate",label:"Auth",type:p._.Html,fixed:!0,columnWidth:100}],this.pagination={limit:this.defaultPagination.limit,offset:this.defaultPagination.offset,totalItems:0}}getUser(){const e=localStorage.getItem("user");this.user=e?JSON.parse(e):null,this.token=localStorage.getItem("token")||""}loadData(){this.errorInSearch=!1,this.showLoader=!0,this.userService.getUsers(this.token,{offset:this.pagination.offset,limit:this.pagination.limit}).pipe((0,b.x)(()=>this.showLoader=!1)).subscribe({next:o=>{this.pagination={limit:this.pagination.limit,offset:this.pagination.offset,totalItems:o.totalItems},this.updateData(o.users),this.originaltableRows=Array.from(this.tableRows)},error:o=>this.errorInSearch=!0})}updateData(e){e.forEach(o=>{o.imgTemplate=this.imgTemplate,o.authTemplate=this.authTemplate,o.imgUrl=o.img,o.google||(o.imgUrl=this.filesService.getImageEntity({entity:d.q.Users,imageName:o&&o.img?o.img:"no-image"})),o.uid===this.user.uid&&(o.actionDisabled=!0)}),this.tableRows=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(J.K),t.Y36(ft.j),t.Y36(S.n),t.Y36(A.v),t.Y36(f.FF),t.Y36(q.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-users"]],viewQuery:function(e,o){if(1&e&&(t.Gf(_t,7),t.Gf(vt,7)),2&e){let n;t.iGM(n=t.CRH())&&(o.imgTemplate=n.first),t.iGM(n=t.CRH())&&(o.authTemplate=n.first)}},decls:15,vars:4,consts:[[1,"users-management","animated","fadeIn","fast"],[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body","d-flex"],["type","text","placeholder","Search user...",1,"form-control","mr-3",3,"ngModel","ngModelChange","keyup.enter"],["type","button",1,"btn","btn-secondary",3,"click"],["class","row animated fadeIn fast",4,"ngIf"],["class","row",4,"ngIf"],["imgTemplate",""],["authTemplate",""],[3,"header","content"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[3,"columns","rows","enablePagination","pagination","showActions","pageChange","removeClick","editClick"],[1,"row"],[1,"col-md-12"],[3,"title","content"],[1,"img-user","d-flex","justify-content-center"],[1,"avatar","cursor-pointer",3,"src","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"input",5),t.NdJ("ngModelChange",function(s){return o.nameCriteria=s})("ngModelChange",function(){return o.searchData()})("keyup.enter",function(){return o.searchData()}),t.qZA(),t.TgZ(6,"button",6),t.NdJ("click",function(){return o.cleanCriteria()}),t._uU(7,"Clean "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(8,Tt,3,2,"div",7),t.YNc(9,Zt,9,5,"div",7),t.YNc(10,Ct,3,2,"div",8),t.YNc(11,bt,2,1,"ng-template",null,9,t.W1O),t.YNc(13,At,2,3,"ng-template",null,10,t.W1O),t.qZA()),2&e&&(t.xp6(5),t.Q6J("ngModel",o.nameCriteria),t.xp6(3),t.Q6J("ngIf",o.showLoader&&!o.errorInSearch),t.xp6(1),t.Q6J("ngIf",!o.showLoader&&!o.errorInSearch),t.xp6(1),t.Q6J("ngIf",o.errorInSearch))},directives:[a.Fj,a.JJ,a.On,u.O5,y,U.S,x.D],encapsulation:2}),i})(),data:{title:"Users"},canActivate:[G]},{path:"hospitals",component:ut,data:{title:"Hospitals"}},{path:"doctors",component:ot,data:{title:"Doctors"}},{path:"doctors/new",component:H,data:{title:"New Doctor"}},{path:"doctors/:uid",component:H,data:{title:"Update Doctor"}}];let yt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[g.Bz.forChild(qt)],g.Bz]}),i})(),Ut=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[N.F,yt,f.bz]]}),i})()}}]);